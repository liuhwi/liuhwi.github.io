<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Weihoop&#39;s Blog</title>
  <subtitle>My OPS Life</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://weihoop.com/"/>
  <updated>2017-01-25T14:50:08.000Z</updated>
  <id>http://weihoop.com/</id>
  
  <author>
    <name>weihoop</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MAC OS X 系统优化</title>
    <link href="http://weihoop.com/2014/02/22/optimize-macos-system/"/>
    <id>http://weihoop.com/2014/02/22/optimize-macos-system/</id>
    <published>2014-02-22T08:26:02.000Z</published>
    <updated>2017-01-25T14:50:08.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装brew"><a href="#安装brew" class="headerlink" title="安装brew"></a>安装brew</h2><p>Mac下打开Terminal, 复制并粘贴以下指令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ruby <span class="_">-e</span> <span class="string">"<span class="variable">$(curl -fsSL https://raw.github.com/Homebrew/homebrew/go/install)</span>"</span></div></pre></td></tr></table></figure></p>
<p>brew安装常用软件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install cmake git wget htop fping curl pigz mtr</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<h2 id="安装Xcode"><a href="#安装Xcode" class="headerlink" title="安装Xcode"></a>安装Xcode</h2><ul>
<li>网上直接下载安装Xcode,也可以从App Store中下载安装,访问网址：<br><a href="https://developer.apple.com/downloads/index.action" target="_blank" rel="external">https://developer.apple.com/downloads/index.action</a></li>
<li>安装Xcode中的Command Line Tools:打开Xcode设置,在Downloads选项卡中点击Install”Command Line Tools”</li>
</ul>
<h2 id="配置终端-amp-设置alias"><a href="#配置终端-amp-设置alias" class="headerlink" title="配置终端&amp;设置alias"></a>配置终端&amp;设置alias</h2><p>设置 alias，可以在/etc/bashrc或者/etc/profile添加一下内容。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">cat &gt;&gt; /etc/profile &lt;&lt; EOF</div><div class="line"><span class="built_in">export</span> CLICOLOR=1</div><div class="line"><span class="built_in">export</span> GREP_OPTIONS=<span class="string">"--color=auto"</span></div><div class="line"><span class="comment">#PS1="\u@\h:\w $"</span></div><div class="line">PS1=<span class="string">"\e[32;1m\]\u@\h:\w $ \[\e[0m\]"</span></div><div class="line"></div><div class="line"><span class="built_in">alias</span> l.=<span class="string">'ls -d .*'</span></div><div class="line"><span class="built_in">alias</span> ll=<span class="string">'ls -l'</span></div><div class="line"><span class="built_in">alias</span> rm=<span class="string">'rm -i'</span></div><div class="line"><span class="built_in">alias</span> cp=<span class="string">'cp -i'</span></div><div class="line"><span class="built_in">alias</span> mv=<span class="string">'mv -i'</span></div><div class="line"><span class="built_in">alias</span> vi=<span class="string">'vim'</span></div><div class="line"><span class="built_in">alias</span> grep=<span class="string">'grep --color'</span></div><div class="line"><span class="built_in">alias</span> du1=<span class="string">'du -d 1 -h'</span></div><div class="line"><span class="built_in">alias</span> du2=<span class="string">'du -d 2 -h'</span></div><div class="line"><span class="built_in">alias</span> du3=<span class="string">'du -d 3 -h'</span></div><div class="line"><span class="built_in">alias</span> chosts=<span class="string">"cat /etc/hosts"</span></div><div class="line"><span class="built_in">alias</span> mhosts=<span class="string">"sudo vim /etc/hosts"</span></div><div class="line"></div><div class="line">HISTFILESIZE=5000</div><div class="line">HISTSIZE=5000</div><div class="line">HISTTIMEFORMAT=<span class="string">"%Y%m%d %T "</span></div><div class="line">EOF</div><div class="line"></div><div class="line"><span class="built_in">source</span> /etc/profile</div></pre></td></tr></table></figure>
<h2 id="安装pip"><a href="#安装pip" class="headerlink" title="安装pip"></a>安装pip</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo easy_install pip</div></pre></td></tr></table></figure>
<h2 id="安装sshpt"><a href="#安装sshpt" class="headerlink" title="安装sshpt"></a>安装sshpt</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">brew install gcc</div><div class="line">sudo easy_install pip</div><div class="line">sudo su -</div><div class="line">ARCHFLAGS=-Wno-error=unused-command-line-argument-hard-error-in-future pip install pycrypto</div><div class="line">wget http://sshpt.googlecode.com/files/sshpt-1.2.0.tar.gz</div><div class="line">tar zxvf sshpt-1.2.0.tar.gz</div><div class="line"><span class="built_in">cd</span> sshpt</div><div class="line">sudo python setup.py install</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;安装brew&quot;&gt;&lt;a href=&quot;#安装brew&quot; class=&quot;headerlink&quot; title=&quot;安装brew&quot;&gt;&lt;/a&gt;安装brew&lt;/h2&gt;&lt;p&gt;Mac下打开Terminal, 复制并粘贴以下指令：&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;ruby &lt;span class=&quot;_&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;variable&quot;&gt;$(curl -fsSL https://raw.github.com/Homebrew/homebrew/go/install)&lt;/span&gt;&quot;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;brew安装常用软件&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;brew install cmake git wget htop fping curl pigz mtr&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="macos" scheme="http://weihoop.com/tags/macos/"/>
    
  </entry>
  
  <entry>
    <title>Sublime快捷键</title>
    <link href="http://weihoop.com/2014/01/22/sublime%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
    <id>http://weihoop.com/2014/01/22/sublime快捷键/</id>
    <published>2014-01-22T08:26:02.000Z</published>
    <updated>2017-01-25T13:52:05.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="基础功能"><a href="#基础功能" class="headerlink" title="基础功能"></a>基础功能</h2><p>新建：cmd+n<br>打开：cmd+o<br>关闭：cmd+w<br>保存：cmd+s<br>另存为：cmd+shift+s</p>
<a id="more"></a>
<h2 id="功能类"><a href="#功能类" class="headerlink" title="功能类"></a>功能类</h2><ul>
<li>打开Command palatte：cmd+shift+p</li>
</ul>
<h2 id="Evernote"><a href="#Evernote" class="headerlink" title="Evernote"></a>Evernote</h2><ul>
<li>发送到evernote：ctrl+e、ctrl+s</li>
<li>打开evernote：ctrl+e、ctrl+o</li>
<li>保存到evernote：ctrl+e、ctrl+u</li>
</ul>
<h2 id="Markdown"><a href="#Markdown" class="headerlink" title="Markdown"></a>Markdown</h2><ul>
<li>新建md文件：ctrl+alt+m</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;基础功能&quot;&gt;&lt;a href=&quot;#基础功能&quot; class=&quot;headerlink&quot; title=&quot;基础功能&quot;&gt;&lt;/a&gt;基础功能&lt;/h2&gt;&lt;p&gt;新建：cmd+n&lt;br&gt;打开：cmd+o&lt;br&gt;关闭：cmd+w&lt;br&gt;保存：cmd+s&lt;br&gt;另存为：cmd+shift+s&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>rsync-error</title>
    <link href="http://weihoop.com/2010/01/26/rsync-error/"/>
    <id>http://weihoop.com/2010/01/26/rsync-error/</id>
    <published>2010-01-26T04:50:47.000Z</published>
    <updated>2017-01-25T18:57:40.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="错误1"><a href="#错误1" class="headerlink" title="错误1"></a>错误1</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">rsync: <span class="built_in">read</span> error: Connection reset by peer (104)</div><div class="line">rsync error: error <span class="keyword">in</span> rsync protocol data stream (code 12) at io.c(794) [receive</div><div class="line">r=3.0.2]</div></pre></td></tr></table></figure>
<p>解决：很大可能是服务器端没有开启 rsync 服务。开启服务。</p>
<h3 id="错误2"><a href="#错误2" class="headerlink" title="错误2"></a>错误2</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@ERROR: chdir failed</div><div class="line">rsync error: error starting client-server protocol (code 5) at main.c(1495) [rec</div><div class="line">eiver=3.0.2]</div></pre></td></tr></table></figure>
<p>解决：服务器端同步目录没有权限，cwrsync默认用户是Svcwrsync。为同步目录添加用户Svcwrsync权限。</p>
<h3 id="错误3"><a href="#错误3" class="headerlink" title="错误3"></a>错误3</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@ERROR: failed to open lock file</div><div class="line">rsync error: error starting client-server protocol (code 5) at main.c(1495) [rec</div><div class="line">eiver=3.0.2]</div></pre></td></tr></table></figure>
<p>解决：配置文件 rsync.conf中添加 lock file = rsyncd.lock 即可解决</p>
<h3 id="错误4"><a href="#错误4" class="headerlink" title="错误4"></a>错误4</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">rsync: could not open password file “/etc/rsync.pas”: No such file or directory (2)</div><div class="line">Password:</div><div class="line">@ERROR: auth failed on module backup</div><div class="line">rsync error: error starting client-server protocol (code 5) at main.c(1506) [Receiver=3.0.7]</div></pre></td></tr></table></figure>
<p>解决：client端没有设置/etc/rsync.pas这个文件，而在使用rsync命令的时候，加了这个参数–password-file=/etc/rsync.pas</p>
<h3 id="错误5"><a href="#错误5" class="headerlink" title="错误5"></a>错误5</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">@ERROR: auth failed on module backup</div><div class="line">rsync error: error starting client-server protocol (code 5) at main.c(1506) [Receiver=3.0.7]</div></pre></td></tr></table></figure>
<p>解决：client端已经设置/etc/rsync.pas这个文件，里面也设置了密码111111，和服务器一致，但是服务器段设置有错误，服务器端应该设置/etc/rsync.pas  ，里面内容root:111111 ,这里登陆名不可缺少</p>
<h3 id="错误6"><a href="#错误6" class="headerlink" title="错误6"></a>错误6</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">@ERROR: chdir failed</div><div class="line">rsync error: error starting client-server protocol (code 5) at main.c(1506) [Receiver=3.0.7]</div></pre></td></tr></table></figure>
<p>解决：服务器端的/data/backup  其中backup这个目录并没有设置，所以提示：chdir failed</p>
<h3 id="错误7"><a href="#错误7" class="headerlink" title="错误7"></a>错误7</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">rsync: write failed on “/data/backup”: No space left on device (28)</div><div class="line">rsync error: error in file IO (code 11) at receiver.c(302) [receiver=3.0.7]</div></pre></td></tr></table></figure>
<p>解决：磁盘空间不够，所以无法操作。</p>
<h3 id="错误8"><a href="#错误8" class="headerlink" title="错误8"></a>错误8</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rsync: opendir “/kexue” (in dtsChannel) failed: Permission denied (13)</div></pre></td></tr></table></figure>
<p>解决：注意查看同步的目录权限是否为755</p>
<h3 id="错误9"><a href="#错误9" class="headerlink" title="错误9"></a>错误9</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">rsync: failed to connect to 203.100.192.66: Connection timed out (110)</div><div class="line">rsync error: error in socket IO (code 10) at clientserver.c(124) [receiver=3.0.5]</div></pre></td></tr></table></figure>
<p>解决：连接时间超时，检查服务器的端口netstat –tunlp，远程telnet测试。</p>
<h3 id="错误10"><a href="#错误10" class="headerlink" title="错误10"></a>错误10</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">rsync: failed to connect to 10.10.10.170: Connection refused (111)</div><div class="line">rsync error: error in socket IO (code 10) at clientserver.c(124) [receiver=3.0.5]</div></pre></td></tr></table></figure>
<p>解决：rsync服务未启动，启动rsync服务：rsync –daemon –config=/etc/rsyncd.conf</p>
<h3 id="错误11"><a href="#错误11" class="headerlink" title="错误11"></a>错误11</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">rsync error: received SIGINT, SIGTERM, or SIGHUP (code 20) at rsync.c(544) [receiver=3.0.5]</div><div class="line">rsync error: received SIGINT, SIGTERM, or SIGHUP (code 20) at rsync.c(544) [generator=3.0.5]</div></pre></td></tr></table></figure>
<p>解决：Ctrl+C或者大量文件</p>
<h3 id="错误12"><a href="#错误12" class="headerlink" title="错误12"></a>错误12</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">rsync: read error: Connection reset by peer (104)</div><div class="line">rsync error: error in rsync protocol data stream (code 12) at io.c(759) [receiver=3.0.5]</div></pre></td></tr></table></figure>
<p>解决：查看rsync日志<br>rsync: unable to open configuration file “/etc/rsyncd.conf”: No such file or directory<br>xnetid查找的配置文件位置默认是/etc下，根据具体情况创建软链接。例如：<br>ln -s /etc/rsyncd/rsyncd.conf /etc/rsyncd.conf<br>或者更改指定默认的配置文件路径，在/etc/xinetd.d/rsync配置文件中.</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;错误1&quot;&gt;&lt;a href=&quot;#错误1&quot; class=&quot;headerlink&quot; title=&quot;错误1&quot;&gt;&lt;/a&gt;错误1&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;di
    
    </summary>
    
    
      <category term="linux" scheme="http://weihoop.com/tags/linux/"/>
    
  </entry>
  
</feed>
